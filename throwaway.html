<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
</head>

<body id="body">

    <script>
        AFRAME.registerComponent("duck", {
            init: function () {
                let tmp = false
                this.el.addEventListener("click", (e) => {
                    let scale = tmp ? "0.5 0.5 0.5": "1 1 1"
                    this.el.setAttribute("scale", scale)
                    tmp = !tmp
                })
            }
        })

        AFRAME.registerComponent("toilet", {
            init: function () {
                let tmp = false
                this.el.addEventListener("click", (e) => {
                    let scale = tmp ? "1 1 1" : "2 2 2"
                    this.el.setAttribute("scale", scale)
                    tmp = !tmp
                })
            }
        })

        function mouseScreenCoordinates(moveEvent) {
            var xpos, ypos;
            if (moveEvent) {
                xpos = moveEvent.screenX;
                ypos = moveEvent.screenY;
            } else {
                //IE
                xpos = window.event.screenX;
                ypos = window.event.screenY;
            }

            console.log("X:" + xpos + "\tY: " + ypos)
        }

        // document.getElementById("body").onmousemove = mouseScreenCoordinates;
        


    </script>

    <a-scene embedded
        arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'
        cursor="rayOrigin: mouse" id="scene">
        <a-assets>
            <a-asset-item id="duck" src="models/duck/Duck.gltf"></a-asset-item>
            <a-asset-item id="toilet" src="models/toilet.gltf"></a-asset-item>

        </a-assets>

        <a-marker type="pattern" url="pattern-marker-toilet.patt">
            <a-entity duck id="duck-instance" position='0 0.5 0.4' scale="0.5 0.5 0.5" rotation="90 90 -90" gltf-model="#duck">
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="pattern-self2020closeup.patt">
            <a-entity toilet id="toilet-instance" position='0 0.5 0.4' scale="1" rotation="90 90 -90"
                gltf-model="#toilet">
            </a-entity>
        </a-marker>

        <a-entity cursor="fuse: true; fuseTimeout: 550000000" position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.1; radiusOuter: 0.103" material="color: #24cc8b; shader: flat">
        </a-entity>

        <a-entity camera look-controls="enabled: false" >
        </a-entity>

    </a-scene>

 

</body>

<!--Inspiration: https://jsfiddle.net/6p0r36bL/4/ -->